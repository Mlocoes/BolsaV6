# Directrices de Organizaci√≥n del Proyecto BolsaV6

## üìÅ Estructura de Directorios

### `/scripts/` - Scripts Ejecutables
**Prop√≥sito:** Todos los scripts de utilidad del sistema

**Contenido:**
- Scripts Bash (`.sh`)
- Scripts Python de mantenimiento
- Scripts de instalaci√≥n y configuraci√≥n
- Scripts de validaci√≥n y diagn√≥stico

**Convenciones:**
- ‚úÖ Todos los scripts deben tener permisos de ejecuci√≥n: `chmod +x`
- ‚úÖ Usar shebang: `#!/bin/bash` o `#!/usr/bin/env python3`
- ‚úÖ Incluir manejo de errores: `set -e` en bash
- ‚úÖ Usar colores para feedback visual
- ‚úÖ Documentar en `scripts/README.md`

**Ubicaci√≥n de guardado:**
```bash
# SIEMPRE guardar scripts en:
./scripts/nombre_script.sh
./scripts/nombre_script.py
```

---

### `/docs/` - Documentaci√≥n
**Prop√≥sito:** Toda la documentaci√≥n del proyecto

**Contenido:**
- Archivos Markdown (`.md`)
- Gu√≠as de instalaci√≥n
- Documentaci√≥n t√©cnica
- Tutoriales y troubleshooting
- Diagramas y esquemas

**Convenciones:**
- ‚úÖ Formato Markdown exclusivamente
- ‚úÖ Nombres en MAY√öSCULAS: `MI_DOCUMENTO.md`
- ‚úÖ Usar emojis para mejor visualizaci√≥n
- ‚úÖ Incluir fecha de √∫ltima actualizaci√≥n
- ‚úÖ Actualizar `docs/INDEX.md` con nuevos documentos

**Ubicaci√≥n de guardado:**
```bash
# SIEMPRE guardar documentaci√≥n en:
./docs/NOMBRE_DOCUMENTO.md
```

---

### `/backend/` - C√≥digo Backend
**Prop√≥sito:** Aplicaci√≥n FastAPI

**Estructura:**
```
backend/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/              # Endpoints REST
‚îÇ   ‚îú‚îÄ‚îÄ core/             # Configuraci√≥n, DB, Seguridad
‚îÇ   ‚îú‚îÄ‚îÄ models/           # Modelos SQLAlchemy
‚îÇ   ‚îú‚îÄ‚îÄ schemas/          # Esquemas Pydantic
‚îÇ   ‚îú‚îÄ‚îÄ services/         # L√≥gica de negocio
‚îÇ   ‚îî‚îÄ‚îÄ main.py           # Aplicaci√≥n principal
‚îú‚îÄ‚îÄ alembic/              # Migraciones de BD
‚îÇ   ‚îî‚îÄ‚îÄ versions/         # Archivos de migraci√≥n
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ requirements.txt
```

---

### `/frontend/` - C√≥digo Frontend
**Prop√≥sito:** Aplicaci√≥n React

**Estructura:**
```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/       # Componentes React
‚îÇ   ‚îú‚îÄ‚îÄ pages/            # P√°ginas de la aplicaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ services/         # Servicios API
‚îÇ   ‚îú‚îÄ‚îÄ stores/           # Estado global (Zustand)
‚îÇ   ‚îú‚îÄ‚îÄ types/            # Tipos TypeScript
‚îÇ   ‚îî‚îÄ‚îÄ utils/            # Utilidades
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ package.json
```

---

## üéØ Reglas de Guardado

### Scripts
```bash
# ‚úÖ CORRECTO
./scripts/backup.sh
./scripts/deploy.sh
./scripts/test_runner.py

# ‚ùå INCORRECTO
./backup.sh                    # En ra√≠z
./backend/scripts/backup.sh    # En backend
```

### Documentaci√≥n
```bash
# ‚úÖ CORRECTO
./docs/API.md
./docs/ARQUITECTURA.md
./docs/GUIA_DESARROLLO.md

# ‚ùå INCORRECTO
./API.md                       # En ra√≠z
./backend/README.md            # Docs espec√≠ficas de m√≥dulo
```

### Excepciones
**Archivos que van en ra√≠z:**
- `README.md` - Documentaci√≥n principal del proyecto
- `.env` - Variables de entorno (no versionado)
- `.env.example` - Plantilla de variables de entorno
- `.gitignore` - Configuraci√≥n de Git
- `docker-compose.yml` - Orquestaci√≥n de contenedores

---

## üîÑ Workflow de Trabajo

### Crear Nuevo Script
1. Crear archivo en `scripts/`:
   ```bash
   touch scripts/nuevo_script.sh
   chmod +x scripts/nuevo_script.sh
   ```

2. Usar template est√°ndar:
   ```bash
   #!/bin/bash
   set -e
   
   # Colores
   GREEN='\033[0;32m'
   RED='\033[0;31m'
   YELLOW='\033[1;33m'
   BLUE='\033[0;34m'
   NC='\033[0m'
   
   echo -e "${BLUE}========================================${NC}"
   echo -e "${BLUE}  Nombre del Script${NC}"
   echo -e "${BLUE}========================================${NC}"
   
   # Tu c√≥digo aqu√≠...
   
   echo -e "${GREEN}‚úì Completado${NC}"
   ```

3. Documentar en `scripts/README.md`

4. Commit:
   ```bash
   git add scripts/nuevo_script.sh scripts/README.md
   git commit -m "feat: a√±adir script [descripci√≥n]"
   ```

### Crear Nueva Documentaci√≥n
1. Crear archivo en `docs/`:
   ```bash
   touch docs/NUEVO_DOC.md
   ```

2. Usar estructura est√°ndar:
   ```markdown
   # T√≠tulo del Documento
   
   Descripci√≥n breve...
   
   ## Secci√≥n 1
   
   Contenido...
   
   ---
   
   **√öltima actualizaci√≥n:** [fecha]
   ```

3. A√±adir entrada en `docs/INDEX.md`

4. Commit:
   ```bash
   git add docs/NUEVO_DOC.md docs/INDEX.md
   git commit -m "docs: a√±adir documentaci√≥n de [tema]"
   ```

---

## üìã Checklist Pre-Commit

Antes de hacer commit, verificar:

- [ ] Los scripts est√°n en `scripts/` y tienen permisos de ejecuci√≥n
- [ ] La documentaci√≥n est√° en `docs/` y en formato Markdown
- [ ] El `scripts/README.md` est√° actualizado si a√±adiste scripts
- [ ] El `docs/INDEX.md` est√° actualizado si a√±adiste documentaci√≥n
- [ ] Los nombres de archivo siguen las convenciones
- [ ] No hay archivos `.sh` o `.md` (excepto README.md) en la ra√≠z
- [ ] El mensaje de commit es descriptivo

---

## üö´ Anti-Patrones a Evitar

### NO hacer esto:

‚ùå Guardar scripts en la ra√≠z del proyecto
‚ùå Guardar documentaci√≥n fuera de `docs/`
‚ùå Crear subdirectorios en `scripts/` sin consultar
‚ùå Duplicar documentaci√≥n en varios lugares
‚ùå Nombres de archivo inconsistentes (`mi_script.sh` vs `MiScript.sh`)
‚ùå Scripts sin documentaci√≥n en `scripts/README.md`
‚ùå Documentaci√≥n sin entrada en `docs/INDEX.md`

---

## üéì Ejemplos Reales

### Script bien ubicado:
```bash
# Archivo: scripts/backup_database.sh
#!/bin/bash
set -e

# Crear backup de PostgreSQL
docker compose exec -T db pg_dump -U bolsav6_user bolsav6 > backups/backup_$(date +%Y%m%d_%H%M%S).sql
echo "‚úì Backup completado"
```

### Documentaci√≥n bien ubicada:
```markdown
# Archivo: docs/BACKUP_RESTORE.md

# Gu√≠a de Backup y Restauraci√≥n

## Crear Backup

\`\`\`bash
./scripts/backup_database.sh
\`\`\`

## Restaurar Backup

\`\`\`bash
./scripts/restore_database.sh backup_20251211.sql
\`\`\`

---

**√öltima actualizaci√≥n:** 11 de diciembre de 2025
```

---

## üìû Contacto

Si tienes dudas sobre d√≥nde guardar algo:
1. Revisar este documento
2. Consultar `scripts/README.md` o `docs/INDEX.md`
3. Seguir el principio: "Scripts en `scripts/`, Docs en `docs/`"

---

**√öltima actualizaci√≥n:** 11 de diciembre de 2025  
**Versi√≥n:** 1.0
